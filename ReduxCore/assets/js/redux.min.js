(function(a){a.redux=a.redux||{};a(document).ready(function(){jQuery.fn.isOnScreen=function(){if(!window){return}var e=jQuery(window);var c={top:e.scrollTop(),left:e.scrollLeft()};c.right=c.left+e.width();c.bottom=c.top+e.height();var d=this.offset();d.right=d.left+this.outerWidth();d.bottom=d.top+this.outerHeight();return(!(c.right<d.left||c.left>d.right||c.bottom<d.top||c.top>d.bottom))};a.redux.required();a("body").on("change",".redux-main select, .redux-main radio, .redux-main input[type=checkbox], .redux-main input[type=hidden]",function(c){a.redux.check_dependencies(this)});a("body").on("check_dependencies",function(d,c){a.redux.check_dependencies(c)});for(var b=0;b<redux.fieldsHidden.length;b++){a.redux.check_dependencies(jQuery("#"+redux.fieldsHidden[b]))}});a.redux.required=function(){a(".hiddenFold, .showFold").each(function(){var d=a(this),b=d.parents("tr:eq(0)"),c=d.data();if(d.hasClass("hiddenFold")){b.addClass("hiddenFold").attr("data-check-field",c.checkField).attr("data-check-comparison",c.checkComparison).attr("data-check-value",c.checkValue).attr("data-check-id",c.id).hide();d.removeClass("hiddenFold").removeAttr("data-check-field").removeAttr("data-check-comparison").removeAttr("data-check-value")}else{b.attr("data-check-field",c.checkField).attr("data-check-comparison",c.checkComparison).attr("data-check-value",c.checkValue).attr("data-check-id",c.id);d.removeClass("showFold").removeAttr("data-check-field").removeAttr("data-check-comparison").removeAttr("data-check-value")}});a(".fold").promise().done(function(){a(".foldParent").each(function(){if(a(this).attr("type")=="radio"&&a(this).attr("checked")!="checked"){return}var b=a(this).parents(".redux-field:first").data("id");if(redux.folds[b]){if(!redux.folds[b].parent){a.redux.verify_fold(a(this))}}})})};a.redux.check_dependencies=function(c){var g=a(c),e=g.parents(".redux-group-tab:eq(0)");if(!e.length){e=a("body")}if(a(c).prop("type")=="checkbox"){a(c).is(":checked")?a(c).val("1"):a(c).val("0")}var h=g.parents(".redux-field:first").data("id"),d=e.find('tr[data-check-field="'+h+'"]'),b=c.value,f=g.parents("tr:eq(0)").is(".hiddenFold");if(!d.length){return}d.each(function(){var o=a(this),n=o.data(),k=n.checkValue,j=false,m="",i;var l=o.find(".redux-field:first");if(l.hasClass("redux-container-info")){m=o.find(".redux-container-info").data("id")}var l=o.find(".redux-field:first");if(l.hasClass("redux-container-section")){m=o.find(".redux-container-section").data("id")}if(!f){switch(n.checkComparison){case"=":case"equals":if(k.toString().indexOf("|")!==-1){i=k.split("|");if(a.inArray(b,i)!=-1){j=true}}else{if(b==k){j=true}}break;case"!=":case"not":if(k.toString().indexOf("|")!==-1){i=k.split("|");if(a.inArray(b,i)==-1){j=true}}else{if(b!=k){j=true}}break;case">":case"greater":case"is_larger":if(parseFloat(b)>parseFloat(k)){j=true}break;case">=":if(parseFloat(b)>=parseFloat(k)){j=true}break;case"<":case"less":case"is_smaller":if(parseFloat(b)<parseFloat(k)){j=true}break;case"<=":if(parseFloat(b)<=parseFloat(k)){j=true}break;case"contains":if(b.toString().indexOf(k)!=-1){j=true}break;case"doesnt_contain":case"not_contain":if(b.toString().indexOf(k)==-1){j=true}break;case"is_empty_or":if(b===""||b==k){j=true}break;case"not_empty_and":if(b!==""&&b!=k){j=true}break}}if(j===true&&o.is(".hiddenFold")){if(m!==""){a("#info-"+m).css({display:"none"}).fadeIn(300).show()}if(m!==""){a("#section-"+m).css({display:"none"}).fadeIn(300).show()}o.css({display:"none"}).removeClass("hiddenFold").find("select, radio, input[type=checkbox]").trigger("change");o.fadeIn(300)}else{if(j===false&&!o.is(".hiddenFold")){if(m!==""){a("#info-"+m).css({display:""}).fadeOut(300).hide()}if(m!==""){a("#section-"+m).css({display:""}).fadeOut(300).hide()}o.css({display:""}).addClass("hiddenFold").find("select, radio, input[type=checkbox]").trigger("change");o.fadeOut(300)}}})};a.redux.verify_fold=function(e){var f=e.parents(".redux-field:first").data("id");var c=e.val();var d=(e.parents(".redux-groups-accordion-group:first").length>0)?e.parents(".redux-groups-accordion-group:first"):e.parents(".redux-group-tab:eq(0)");if(redux.folds[f]){if(redux.folds[f].children){var b={};a.each(redux.folds[f].children,function(g,h){a.each(h,function(j,i){if(!b[i]){b[i]={show:false,hidden:false}}if(g==c||b[i]===true){b[i].show=true}if(b[i].show===true&&d.find('tr[data-check-id="'+f+'"]').hasClass("hiddenFold")){b[i].show=false}if(b[i].show===true&&d.find('tr[data-check-id="'+redux.folds[f].parent+'"]').hasClass("hiddenFold")){b[i].show=false}b[i].hidden=d.find('tr[data-check-id="'+i+'"]').hasClass("hiddenFold")})});a.each(b,function(g){var h=d.find('tr[data-check-id="'+g+'"]');if(b[g].show===true){h.fadeIn("medium",function(){h.removeClass("hiddenFold");if(redux.folds[g]&&redux.folds[g].children){a.redux.verify_fold(h.find("select, radio, input[type=checkbox], input[type=hidden]"))}})}else{if(b[g].hidden===false){h.fadeOut("medium",function(){h.addClass("hiddenFold");if(redux.folds[g].children){a.redux.verify_fold(h.find("select, radio, input[type=checkbox], input[type=hidden]"))}})}}})}}}})(jQuery);jQuery.noConflict();var confirmOnPageExit=function(b){b=b||window.event;var a=redux.args.save_pending;if(b){b.returnValue=a}window.onbeforeunload=null;return a};function getContrastColour(f){retVal="#444444";if(f!==""){f=f.replace("#","");var e=parseInt(f.substr(0,2),16);var d=parseInt(f.substr(2,2),16);var a=parseInt(f.substr(4,2),16);var c=((e*299)+(d*587)+(a*114))/1000;retVal=(c>=128)?"#444444":"#ffffff"}return retVal}function verify_fold(a){jQuery(document).ready(function(d){console.log(verify_fold);if(a.hasClass("redux-info")||a.hasClass("redux-typography")){return}var e=a.parents(".redux-field:first").data("id");var c=a.val();if(redux.folds[e]){if(redux.folds[e].children){var b={};d.each(redux.folds[e].children,function(f,g){d.each(g,function(i,h){if(!b[h]){b[h]={show:false,hidden:false}}if(f==c||b[h]===true){b[h].show=true}if(b[h].show===true&&jQuery("#"+e).parents("tr:first").hasClass("hiddenFold")){b[h].show=false}if(b[h].show===true&&jQuery("#"+redux.folds[e].parent).hasClass("hiddenFold")){b[h].show=false}b[h].hidden=jQuery("#"+h).parents("tr:first").hasClass("hiddenFold")})});d.each(b,function(f){var g=jQuery("#"+f).parents("tr:first");if(b[f].show===true){g.fadeIn("medium",function(){g.removeClass("hiddenFold");if(redux.folds[f]&&redux.folds[f].children){}})}else{if(b[f].hidden===false){g.fadeOut("medium",function(){g.addClass("hiddenFold");if(redux.folds[f].children){}})}}})}}})}function redux_change(a){jQuery("body").trigger("check_dependencies",a);if(a.hasClass("compiler")){jQuery("#redux-compiler-hook").val(1)}if(a.hasClass("foldParent")){}window.onbeforeunload=confirmOnPageExit;if(jQuery(a).parents("fieldset.redux-field:first").hasClass("redux-field-error")){jQuery(a).parents("fieldset.redux-field:first").removeClass("redux-field-error");jQuery(a).parent().find(".redux-th-error").slideUp();var c=jQuery(a).closest(".redux-group-tab").attr("id");var b=true;jQuery("#"+c+" .redux-field-error").each(function(){b=false});if(b){jQuery("#"+c+"_li .redux-menu-error").hide();jQuery("#"+c+"_li .redux-group-tab-link-a").removeClass("hasError")}}jQuery("#redux-save-warn").slideDown()}jQuery(document).ready(function(e){jQuery(".redux-action_bar, .redux-presets-bar").on("click",function(){window.onbeforeunload=null});if(jQuery().tipsy){e(".tips").tipsy({fade:true,gravity:"s",opacity:0.7})}e("#toplevel_page_"+redux.args.slug+" .wp-submenu a, #wp-admin-bar-"+redux.args.slug+" a.ab-item").click(function(i){if(e("#toplevel_page_"+redux.args.slug).hasClass("wp-menu-open")||e(this).hasClass("ab-item")){i.preventDefault();var h=e(this).attr("href").split("&tab=");e("#"+h[1]+"_section_group_li_a").click();return false}});jQuery(".redux-group-tab-link-a").click(function(){relid=jQuery(this).data("rel");jQuery("#currentSection").val(relid);e.cookie("redux_current_tab",relid,{expires:7,path:"/"});e("#toplevel_page_"+redux.args.slug+" .wp-submenu a.current").removeClass("current");e("#toplevel_page_"+redux.args.slug+" .wp-submenu li.current").removeClass("current");e("#toplevel_page_"+redux.args.slug+" .wp-submenu a").each(function(){var i=e(this).attr("href").split("&tab=");if(i[1]==relid){e(this).addClass("current");e(this).parent().addClass("current")}});var h=jQuery(".redux-group-tab-link-li.active .redux-group-tab-link-a").data("rel");jQuery("#"+h+"_section_group_li").removeClass("active");jQuery("#"+h+"_section_group").hide();jQuery("#"+relid+"_section_group").fadeIn(200,function(){if(jQuery("#redux-footer").length!==0){b()}});jQuery("#"+relid+"_section_group_li").addClass("active")});function c(h){return decodeURI((new RegExp(h+"=(.+?)(&|$)").exec(location.search)||[,""])[1])}var d=c("tab");if(d!==""){if(e.cookie("redux_current_tab_get")!==d){e.cookie("redux_current_tab",d,{expires:7,path:"/"});e.cookie("redux_current_tab_get",d,{expires:7,path:"/"});jQuery("#"+d+"_section_group_li").click()}}else{if(e.cookie("redux_current_tab_get")!==""){e.removeCookie("redux_current_tab_get")}}var f=jQuery("#"+e.cookie("redux_current_tab")+"_section_group_li_a");if(e.cookie("redux_current_tab")===null||typeof(e.cookie("redux_current_tab"))==="undefined"||f.length===0){jQuery(".redux-group-tab-link-a:first").click()}else{f.click()}jQuery('input[name="'+redux.args.opt_name+'[defaults]"]').click(function(){if(!confirm(redux.args.reset_confirm)){return false}window.onbeforeunload=null});jQuery('input[name="'+redux.args.opt_name+'[defaults-section]"]').click(function(){if(!confirm(redux.args.reset_section_confirm)){return false}window.onbeforeunload=null});function g(j){console.log("here");var h=j.find(".expand_options");var i=j.find(".redux-sidebar").width();var k=jQuery(".redux-group-menu .active a").data("rel")+"_section_group";if(h.hasClass("expanded")){h.removeClass("expanded");j.find(".redux-main").removeClass("expand");j.find(".redux-sidebar").stop().animate({"margin-left":"0px"},500);j.find(".redux-main").stop().animate({"margin-left":i},500);j.find(".redux-group-tab").each(function(){if(jQuery(this).attr("id")!==k){jQuery(this).fadeOut("fast")}})}else{h.addClass("expanded");j.find(".redux-main").addClass("expand");j.find(".redux-sidebar").stop().animate({"margin-left":-i-102},500);j.find(".redux-main").stop().animate({"margin-left":"0px"},500);j.find(".redux-group-tab").fadeIn()}return false}jQuery(".expand_options").click(function(h){h.preventDefault();g(jQuery(this).parents(".redux-container:first"));return false});jQuery("#redux-import").click(function(h){if(jQuery("#import-code-value").val()===""&&jQuery("#import-link-value").val()===""){h.preventDefault();return false}});if(jQuery("#redux-save").is(":visible")){jQuery("#redux-save").slideDown()}if(jQuery("#redux-imported").is(":visible")){jQuery("#redux-imported").slideDown()}jQuery(document.body).on("change",".redux-field input, .redux-field textarea, .redux-field select",function(){if(!jQuery(this).hasClass("noUpdate")){redux_change(jQuery(this))}});jQuery("#redux-import-code-button").click(function(){if(jQuery("#redux-import-link-wrapper").is(":visible")){jQuery("#redux-import-link-wrapper").fadeOut("fast");jQuery("#import-link-value").val("")}jQuery("#redux-import-code-wrapper").fadeIn("slow")});jQuery("#redux-import-link-button").click(function(){if(jQuery("#redux-import-code-wrapper").is(":visible")){jQuery("#redux-import-code-wrapper").fadeOut("fast");jQuery("#import-code-value").val("")}jQuery("#redux-import-link-wrapper").fadeIn("slow")});jQuery("#redux-export-code-copy").click(function(){if(jQuery("#redux-export-link-value").is(":visible")){jQuery("#redux-export-link-value").fadeOut("slow")}jQuery("#redux-export-code").toggle("fade")});jQuery("#redux-export-link").click(function(){if(jQuery("#redux-export-code").is(":visible")){jQuery("#redux-export-code").fadeOut("slow")}jQuery("#redux-export-link-value").toggle("fade")});var a=jQuery("#redux-footer").height();jQuery("#redux-sticky-padder").css({height:a});function b(){var h=jQuery("#info_bar").width()-2;if(!jQuery("#info_bar").isOnScreen()&&!jQuery("#redux-footer-sticky").isOnScreen()){jQuery("#redux-footer").css({position:"fixed",bottom:"0",width:h});jQuery("#redux-footer").addClass("sticky-footer-fixed");jQuery("#redux-sticky-padder").show()}else{jQuery("#redux-footer").css({background:"#eee",position:"inherit",bottom:"inherit",width:"inherit"});jQuery("#redux-sticky-padder").hide();jQuery("#redux-footer").removeClass("sticky-footer-fixed")}}if(jQuery("#redux-footer").length!==0){jQuery(window).scroll(function(){b()});jQuery(window).resize(function(){b()})}jQuery("#redux-save, #redux-imported").delay(4000).slideUp();jQuery("#redux-field-errors").delay(8000).slideUp();jQuery(".redux-save").click(function(){window.onbeforeunload=null});e("#consolePrintObject").on("click",function(){console.log(jQuery.parseJSON(jQuery("#redux-object-json").html()))});if(typeof jsonView==="function"){jsonView("#redux-object-json","#redux-object-browser")}if(redux.errors!==undefined){jQuery("#redux-field-errors span").html(redux.errors.total);jQuery("#redux-field-errors").show();jQuery.each(redux.errors.errors,function(i,h){jQuery("#"+i+"_section_group_li_a").prepend('<span class="redux-menu-error">'+h.total+"</span>");jQuery("#"+i+"_section_group_li_a").addClass("hasError");jQuery.each(h.errors,function(j,k){console.log(k);jQuery("#"+redux.args.opt_name+"-"+k.id).addClass("redux-field-error");jQuery("#"+redux.args.opt_name+"-"+k.id).append('<div class="redux-th-error">'+k.msg+"</div>")})})}if(redux.warnings!==undefined){jQuery("#redux-field-warnings span").html(redux.warnings.total);jQuery("#redux-field-warnings").show();jQuery.each(redux.warnings.warnings,function(i,h){jQuery("#"+i+"_section_group_li_a").prepend('<span class="redux-menu-warning">'+h.total+"</span>");jQuery("#"+i+"_section_group_li_a").addClass("hasWarning");jQuery.each(h.warnings,function(j,k){jQuery("#"+redux.args.opt_name+"-"+k.id).addClass("redux-field-warning");jQuery("#"+redux.args.opt_name+"-"+k.id).append('<div class="redux-th-warning">'+k.msg+"</div>")})})}jQuery(".redux-section-tabs div").hide();jQuery(".redux-section-tabs div:first").show();jQuery(".redux-section-tabs ul li:first").addClass("active");jQuery(".redux-section-tabs ul li a").click(function(){jQuery(".redux-section-tabs ul li").removeClass("active");jQuery(this).parent().addClass("active");var h=e(this).attr("href");jQuery(".redux-section-tabs div").hide();jQuery(h).fadeIn();return false})});
